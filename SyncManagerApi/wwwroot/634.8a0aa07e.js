(globalThis.webpackChunkreact_simple=globalThis.webpackChunkreact_simple||[]).push([[634],{45109:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},61794:(e,t,r)=>{var n=r(12698),a=r(47518),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var o=e[t];i.call(e,t)&&a(o,r)&&(void 0!==r||t in e)||n(e,t,r)}},12698:(e,t,r)=>{var n=r(33147);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},96908:(e,t,r)=>{var n=r(61794),a=r(32788),i=r(25911),o=r(19631),c=r(93779);e.exports=function(e,t,r,l){if(!o(e))return e;for(var s=-1,d=(t=a(t,e)).length,u=d-1,m=e;null!=m&&++s<d;){var p=c(t[s]),f=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(s!=u){var g=m[p];void 0===(f=l?l(g,p,m):void 0)&&(f=o(g)?g:i(t[s+1])?[]:{})}n(m,p,f),m=m[p]}return e}},68421:(e,t,r)=>{var n=r(68612),a=r(45109),i=r(82254),o=r(38897),c=n?n.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},32788:(e,t,r)=>{var n=r(82254),a=r(97956),i=r(54344),o=r(30431);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(o(e))}},33147:(e,t,r)=>{var n=r(7856),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},97956:(e,t,r)=>{var n=r(82254),a=r(38897),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},13553:(e,t,r)=>{var n=r(88092);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},54344:(e,t,r)=>{var n=r(13553),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));e.exports=o},93779:(e,t,r)=>{var n=r(38897);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},88092:(e,t,r)=>{var n=r(11851);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},30842:(e,t,r)=>{var n=r(96908);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},30431:(e,t,r)=>{var n=r(68421);e.exports=function(e){return null==e?"":n(e)}},52048:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(73763),a=r(62632),i=r(55495);function o(){return a.createElement(c,null,a.createElement(l,{src:i.Z}),a.createElement(s,null,"BrowserHistorySync"))}var c=(0,n.ZP)("div").withConfig({displayName:"Logo___StyledDiv",componentId:"sc-1c72t62-0"})(["margin-top:.3rem;width:100%;height:2.5rem;display:flex;align-items:center;border-bottom:1px #ddd solid;"]),l=(0,n.ZP)("img").withConfig({displayName:"Logo___StyledImg",componentId:"sc-1c72t62-1"})(["margin:0 .5rem;height:1.8rem;"]),s=(0,n.ZP)("span").withConfig({displayName:"Logo___StyledSpan",componentId:"sc-1c72t62-2"})(["font-size:90%;font-weight:bold;letter-spacing:0.0625em;color:#5b5b5b;"])},2385:(e,t,r)=>{"use strict";r.d(t,{H:()=>b}),r(91283);var n=r(60203),a=(r(32390),r(81557)),i=(r(54911),r(46481)),o=(r(2409),r(38466)),c=(r(96680),r(85460)),l=(r(37169),r(19059),r(83584)),s=r(62632),d=r(82861),u=r(53586),m=r(55274),p=r(17854),f=r(29840),g=r.n(f),y=r(73763);const h=(0,y.ZP)(l.default).withConfig({displayName:"SearchListGroup__StyledList",componentId:"sc-606ry-0"})(["margin:0.5rem 0rem;"]),v=(0,y.ZP)(l.default.Item).withConfig({displayName:"SearchListGroup__StyledListItem",componentId:"sc-606ry-1"})(["padding:8px 8px 8px 16px !important;.close_btn{visibility:hidden;opacity:0.3;}&:hover{background-color:#e6e5e5;border-radius:3px;.close_btn{visibility:visible;&:hover{color:#40a9ff;opacity:0.9;cursor:pointer;}}}.item_container{display:flex;justify-content:space-between;width:100%;align-items:center;.ant-avatar{min-width:1rem;min-height:1rem !important;width:1rem !important;height:1rem !important;margin-right:0.5rem !important;}}"]);function w(e){return s.createElement(v,{onClick:()=>{e.onClick(e.data)},title:`${e.data.equipmentName} ${g()(e.data.timestamp).format("YYYY-MM-DD HH:mm ")} \n ${e.data.url}`},s.createElement("div",{className:"item_container"},s.createElement(C,{src:e.data.faviconUrl,$_css:e.data.faviconUrl?0:"50%"}),s.createElement("div",{style:{flex:1,width:"calc(100% - 1.7rem)"}},s.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"}},s.createElement("span",{style:{flex:1,fontSize:"90%"}},e.data.title))),s.createElement(d.Z,{className:"close_btn",onClick:t=>{t.preventDefault(),t.stopPropagation(),e.onDeleteBtnClick(e.data)}})))}function x(e){return s.createElement(s.Fragment,null,s.createElement(E,{plain:!0,key:e.groupTitle},e.groupTitle),e.items.map(((t,r)=>s.createElement(w,{data:t,key:t.url+" "+r,onClick:e.onClick,onClickEquipmentTag:e.onClickEquipmentTag,onDeleteBtnClick:e.onDeleteItem}))))}let S=0;function b(e){const[t,r]=(0,s.useState)([]),[n,l]=(0,s.useState)(!1);let[d,f]=(0,s.useState)(""),[y,v]=(0,s.useState)({total:0,current:1});const w=(0,s.useRef)();function b(e){}function C(e){e.id&&p.K.deleteHistoryItem(e.id).then((n=>{let a=t.filter((t=>t.id!==e.id));c.default.success("删除成功"),r([...a])})).catch((e=>{console.error(e),c.default.error(e.message)}))}return(0,s.useEffect)((()=>{l(!0),async function(){p.K.queryHistoryList({keyword:"",pageIndex:y.current,pageSize:e.pageSize}).then((e=>{v({total:e.data.total,current:e.data.current}),r(e.data?.data),l(!1)})).catch((e=>{console.error(e),c.default.error(e.message),l(!1)}))}(),w&&w.current?.focus()}),[]),s.createElement(I,{className:e.className},s.createElement(k,null,s.createElement(o.default,{ref:w,size:"large",placeholder:"搜索历史访问记录",allowClear:!0,value:d,prefix:s.createElement(u.Z,null),onChange:t=>{let n=t.target.value;f(n),function(t){l(!0),r([]),S&&(clearTimeout(S),S=0),S=setTimeout((function(){p.K.queryHistoryList({keyword:t,pageIndex:1,pageSize:e.pageSize}).then((e=>{v({total:e.data.total,current:e.data.current}),r(e.data?.data),l(!1)})).catch((e=>{console.error(e),c.default.error(e.message),l(!1)}))}),500)}(n)}})),s.createElement(N,{id:"scrollableDiv"},s.createElement(m.Z,{dataLength:t.length,next:function(){n||(l(!0),p.K.queryHistoryList({keyword:d,pageIndex:y.current+1,pageSize:e.pageSize}).then((e=>{v({total:e.data.total,current:e.data.current}),r([...t,...e.data?.data]),l(!1)})).catch((e=>{console.error(e),c.default.error(e.message),l(!1)})))},hasMore:t.length<y.total,loader:!n&&s.createElement("div",{style:{display:"flex",justifyContent:"center",alignContent:"center"}},s.createElement(i.default,null)),endMessage:!n&&s.createElement(a.Z,{plain:!0},"已经到底啦 🤐"),scrollableTarget:"scrollableDiv"},s.createElement(h,{loading:n,itemLayout:"horizontal",size:"small",dataSource:(E=t,_(E).groupBy((e=>g()(e.timestamp).format("YYYY-MM-DD A"))).map((e=>({groupTitle:g()(e[0].timestamp).format("YYYY-MM-DD A"),items:e}))).value()),renderItem:t=>s.createElement(x,{key:t.groupTitle,items:t.items,groupTitle:t.groupTitle,onClick:e.onClickItem,onClickEquipmentTag:b,onDeleteItem:C})}))));var E}var C=(0,y.ZP)(n.ZP).withConfig({displayName:"SearchListGroup___StyledAvatar",componentId:"sc-606ry-2"})(["border-radius:",";"],(e=>e.$_css)),E=(0,y.ZP)(a.Z).withConfig({displayName:"SearchListGroup___StyledDivider",componentId:"sc-606ry-3"})(["margin:0 !important;"]),I=((0,y.ZP)("div").withConfig({displayName:"SearchListGroup___StyledDiv",componentId:"sc-606ry-4"})(["margin:0px 1rem 5px 1rem;"]),(0,y.ZP)("section").withConfig({displayName:"SearchListGroup___StyledSection",componentId:"sc-606ry-5"})(["display:flex;flex-direction:column;"])),k=(0,y.ZP)("div").withConfig({displayName:"SearchListGroup___StyledDiv2",componentId:"sc-606ry-6"})(["margin:1rem 1rem 0.5rem 1rem;display:flex;align-items:center;justify-content:space-around;.ant-input-affix-wrapper{border-radius:2rem !important;border-radius:2rem !important;}"]),N=(0,y.ZP)("div").withConfig({displayName:"SearchListGroup___StyledDiv3",componentId:"sc-606ry-7"})(["margin-top:0.5rem;flex:1;overflow:auto;"])},4267:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(73763),a=r(62632),i=r(64387),o=r(52048),c=r(2385);function l(){const[e,t]=(0,a.useState)(!1),r=(0,a.useMemo)((()=>new ResizeObserver((e=>{e[0]?.contentRect&&(0,i.d5)({type:"ResizeWindow",height:e[0].contentRect.height,width:e[0].contentRect.width})}))),[]),n=(0,a.useCallback)((e=>{null!=e&&r.observe(e)}),[]);return(0,a.useEffect)((()=>{(0,i.uk)()?((0,i.MT)("SetConfig",(e=>{window.syncManagerConfig=e.syncManagerConfig,t(!1)})),(0,i.d5)({type:"GetConfig"})):(window.syncManagerConfig={dataServerUrl:""},t(!1))}),[]),a.createElement(s,{ref:n},a.createElement("div",{className:"bar"},a.createElement(o.T,null)),!e&&a.createElement(d,{onClickItem:function(e){(0,i.d5)({type:"OpenNewTab",url:e.url})},pageSize:15}))}var s=(0,n.ZP)("section").withConfig({displayName:"Index___StyledSection",componentId:"sc-e7q92-0"})(["width:100%;background:#fff;"]),d=(0,n.ZP)(c.H).withConfig({displayName:"Index___StyledSearchListGroup",componentId:"sc-e7q92-1"})(["max-height:500px;"])},64387:(e,t,r)=>{"use strict";r.d(t,{MT:()=>c,R6:()=>l,d5:()=>i,nk:()=>s,uk:()=>o});var n=r(30842),a=r.n(n);function i(e){window!=window.parent&&(window.parent.postMessage(e,"*"),console.log("send msg",e))}function o(){return window!=window.top}function c(e,t){window.addEventListener("message",(r=>{r.data&&r.data.type==e&&t(r.data)}),!1)}function l(e,t,r){return new Promise(((n,i)=>{a()(window,r,(e=>{n(e)}));let o=document.getElementById(t);null!=o&&o.remove(),o=document.createElement("script"),o.src=e,o.id=t,o.onerror=e=>{i(e)},document.getElementsByTagName("head")[0].appendChild(o)}))}function s(){let e=screen.availWidth*window.devicePixelRatio,t=screen.availHeight*window.devicePixelRatio;return e>t?t>1200?"UHD":t>1080?"1920x1200":t>768?"1920x1080":e>1280?"1366x768":"1280x768":e>720?"768x1280":e>480?"720x1280":"480x800"}},17854:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(52993),a=r.n(n);const i=new class{async queryHistoryList(e){return console.log(e,"searchParam"),a().get(`${window.syncManagerConfig?.dataServerUrl??""}/api/UrlHistory/Query`,{params:{pageIndex:e.pageIndex??1,pageSize:e.pageSize??15,keyword:e.keyword,dateFrom:e?.datetimeFrom?.toISOString(),dateTo:e?.datetimeTo?.toISOString(),equipments:e?.equipmentName}})}async deleteHistoryItem(e){return a().delete(`${window.syncManagerConfig?.dataServerUrl??""}/api/UrlHistory?id=${e}`)}async batchDeleteHistoryItem(e){return a().delete(`${window.syncManagerConfig?.dataServerUrl??""}/api/UrlHistory/BatchDelete`,{data:e})}}},55495:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r.p+"851378514f50d38c2b60bb0769a84f14.png"},22157:(e,t,r)=>{var n={"./en-gb":37067,"./en-gb.js":37067,"./zh-cn":5327,"./zh-cn.js":5327};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=22157}}]);